@using RobotWasm.Shared.Data.ML.DPMBaord.Accident
@using Telerik.Blazor
@using Telerik.Blazor.Components
@using static RobotWasm.Client.Pages.DPMBoard.A01.A01Data
@using static RobotWasm.Shared.Data.ML.DPMBaord.Accident.AccidentParam


<TelerikRootComponent>
<Telerik.Blazor.Components.TelerikChart Width="100%" Height="100%" @ref="@timeRange">
    <ChartSeriesItems>
        <Telerik.Blazor.Components.ChartSeries Type="@ChartSeriesType.Line"
                     Data="@Data"
                     Field="@( nameof(ChartData.Y) )"
                     CategoryField="@( nameof(ChartData.X) )"
                     Aggregate="@ChartSeriesAggregate.Sum">
            <ChartSeriesLabels Visible="true" Format="{0:N0}"></ChartSeriesLabels>
        </Telerik.Blazor.Components.ChartSeries>
    </ChartSeriesItems>
    <ChartCategoryAxes>
        <ChartCategoryAxis Type="@ChartCategoryAxisType.Category" BaseUnit="@ChartCategoryAxisBaseUnit.Fit">
            <ChartCategoryAxisLabels>
                <ChartCategoryAxisLabelsRotation Angle="@LabelsRotation" />
            </ChartCategoryAxisLabels>
            <ChartCategoryAxisMajorGridLines Visible="false" />
            <ChartCategoryAxisMajorTicks Visible="true" />
        </ChartCategoryAxis>
    </ChartCategoryAxes>
    <ChartValueAxes>
        <ChartValueAxis>
            <ChartValueAxisLabels Format="{0:N0}"></ChartValueAxisLabels>
        </ChartValueAxis>
    </ChartValueAxes>
</Telerik.Blazor.Components.TelerikChart>
</TelerikRootComponent>



@code {
    [Parameter] public List<ChartData> Data { get; set; }

    string LabelsRotation = "auto";
    public TelerikChart timeRange { get; set; }



    public void Refresh() {
        timeRange.Refresh();
    }



}